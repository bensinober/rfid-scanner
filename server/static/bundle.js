var app=function(){"use strict";function t(){}function e(t){for(var e,n,o=1,r=arguments.length;o<r;o++)for(e in n=arguments[o])t[e]=n[e];return t}function n(t,e){e.appendChild(t)}function o(t,e,n){e.insertBefore(t,n)}function r(t){t.parentNode.removeChild(t)}function i(t){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d()}function a(){return document.createDocumentFragment()}function s(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function u(){return document.createComment("")}function h(t,e,n){t.addEventListener(e,n,!1)}function l(t,e,n){t.removeEventListener(e,n,!1)}function f(t,e,n){t.setAttribute(e,n)}function d(t,e,n){t.style.setProperty(e,n)}function m(){return Object.create(null)}function p(e){this.destroy=t,this.fire("destroy"),this.set=this.get=t,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function v(t,e,n,o,r){for(var i in e)if(n[i]){var a=o[i],s=r[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var h=c[u];h.__calling||(h.__calling=!0,h.call(t,a,s),h.__calling=!1)}}}function _(t,e){t._observers={pre:m(),post:m()},t._handlers=m(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function g(t){for(;t&&t.length;)t.shift()()}var b={destroy:p,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1)n[o].call(this,e)},observe:function(t,e,n){var o=n&&n.defer?this._observers.post:this._observers.pre;return(o[t]||(o[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=o[t].indexOf(e);~n&&o[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||(this.root._lock=!0,g(this.root._beforecreate),g(this.root._oncreate),g(this.root._aftercreate),this.root._lock=!1)},teardown:p,_recompute:t,_set:function(t){var n=this._state,o={},r=!1;for(var i in t)this._differs(t[i],n[i])&&(o[i]=r=!0);r&&(this._state=e({},n,t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(v(this,this._observers.pre,o,this._state,n),this._fragment.p(o,this._state),v(this,this._observers.post,o,this._state,n)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var y,w,x=(function(t,e){t.exports=function(){function t(){}function e(t){for(var e,n,o=1,r=arguments.length;o<r;o++)for(e in n=arguments[o])t[e]=n[e];return t}function n(){return Object.create(null)}function o(e){this.destroy=t,this.fire("destroy"),this.set=this.get=t,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function r(t,e,n,o,r){for(var i in e)if(n[i]){var a=o[i],s=r[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var h=c[u];h.__calling||(h.__calling=!0,h.call(t,a,s),h.__calling=!1)}}}function i(t){for(;t&&t.length;)t.shift()()}var a={destroy:o,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1)n[o].call(this,e)},observe:function(t,e,n){var o=n&&n.defer?this._observers.post:this._observers.pre;return(o[t]||(o[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=o[t].indexOf(e);~n&&o[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||(this.root._lock=!0,i(this.root._beforecreate),i(this.root._oncreate),i(this.root._aftercreate),this.root._lock=!1)},teardown:o,_recompute:t,_set:function(t){var n=this._state,o={},i=!1;for(var a in t)this._differs(t[a],n[a])&&(o[a]=i=!0);i&&(this._state=e({},n,t),this._recompute(o,this._state),this._bind&&this._bind(o,this._state),this._fragment&&(r(this,this._observers.pre,o,this._state,n),this._fragment.p(o,this._state),r(this,this._observers.post,o,this._state,n)))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c(t,e){return t(e={exports:{}},e.exports),e.exports}var u=function(t,e,n){var o=arguments.length;n=new Array(o>2?o-2:0);for(var r=2;r<o;r++)n[r-2]=arguments[r];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(!t){var i=0,a="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(t){}}},h=function(t,e,n,o,r,i,a,s){if(void 0===e)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,i,a,s],h=0;(c=new Error(e.replace(/%s/g,function(){return u[h++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}};function l(t){return"/"===t.charAt(0)}function f(t,e){for(var n=e,o=n+1,r=t.length;o<r;n+=1,o+=1)t[n]=t[o];t.pop()}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],o=e&&e.split("/")||[],r=t&&l(t),i=e&&l(e),a=r||i;if(t&&l(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var s=void 0;if(o.length){var c=o[o.length-1];s="."===c||".."===c||""===c}else s=!1;for(var u=0,h=o.length;h>=0;h--){var d=o[h];"."===d?f(o,h):".."===d?(f(o,h),u++):u&&(f(o,h),u--)}if(!a)for(;u--;u)o.unshift("..");!a||""===o[0]||o[0]&&l(o[0])||o.unshift("");var m=o.join("/");return s&&"/"!==m.substr(-1)&&(m+="/"),m}var m=Object.freeze({default:d}),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function v(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return v(t,e[n])});var n=void 0===t?"undefined":p(t);if(n!==(void 0===e?"undefined":p(e)))return!1;if("object"===n){var o=t.valueOf(),r=e.valueOf();if(o!==t||r!==e)return v(o,r);var i=Object.keys(t),a=Object.keys(e);return i.length===a.length&&i.every(function(n){return v(t[n],e[n])})}return!1}var _=Object.freeze({default:v}),g=c(function(t,e){e.__esModule=!0,e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t};var n=e.hasBasename=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)};e.stripBasename=function(t,e){return n(t,e)?t.substr(e.length):t},e.stripTrailingSlash=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},e.parsePath=function(t){var e=t||"/",n="",o="",r=e.indexOf("#");-1!==r&&(o=e.substr(r),e=e.substr(0,r));var i=e.indexOf("?");return-1!==i&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===o?"":o}},e.createPath=function(t){var e=t.pathname,n=t.search,o=t.hash,r=e||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r}});s(g),g.addLeadingSlash,g.stripLeadingSlash,g.hasBasename,g.stripBasename,g.stripTrailingSlash,g.parsePath,g.createPath;var b=m&&d||m,y=_&&v||_,w=c(function(t,e){e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o=i(b),r=i(y);function i(t){return t&&t.__esModule?t:{default:t}}e.createLocation=function(t,e,r,i){var a=void 0;"string"==typeof t?(a=(0,g.parsePath)(t)).state=e:(void 0===(a=n({},t)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return r&&(a.key=r),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,o.default)(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,r.default)(t.state,e.state)}});s(w),w.locationsAreEqual,w.createLocation;var x=c(function(t,e){e.__esModule=!0;var n,o=(n=u)&&n.__esModule?n:{default:n};e.default=function(){var t=null,e=[];return{setPrompt:function(e){return(0,o.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var a="function"==typeof t?t(e,n):t;"string"==typeof a?"function"==typeof r?r(a,i):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},appendListener:function(t){var n=!0,o=function(){n&&t.apply(void 0,arguments)};return e.push(o),function(){n=!1,e=e.filter(function(t){return t!==o})}},notifyListeners:function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];e.forEach(function(t){return t.apply(void 0,n)})}}}});s(x);var P=c(function(t,e){e.__esModule=!0,e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history},e.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},e.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},e.isExtraneousPopstateEvent=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}});s(P),P.canUseDOM,P.addEventListener,P.removeEventListener,P.getConfirmation,P.supportsHistory,P.supportsPopStateOnHashChange,P.supportsGoWithoutReloadUsingHash,P.isExtraneousPopstateEvent;var O=s(c(function(t,e){e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o=a(u),r=a(h),i=a(x);function a(t){return t&&t.__esModule?t:{default:t}}var s={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+(0,g.stripLeadingSlash)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:g.stripLeadingSlash,decodePath:g.addLeadingSlash},slash:{encodePath:g.addLeadingSlash,decodePath:g.addLeadingSlash}},c=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},l=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.default)(P.canUseDOM,"Hash history needs a DOM");var e=window.history,a=(0,P.supportsGoWithoutReloadUsingHash)(),u=t.getUserConfirmation,h=void 0===u?P.getConfirmation:u,f=t.hashType,d=void 0===f?"slash":f,m=t.basename?(0,g.stripTrailingSlash)((0,g.addLeadingSlash)(t.basename)):"",p=s[d],v=p.encodePath,_=p.decodePath,b=function(){var t=_(c());return(0,o.default)(!m||(0,g.hasBasename)(t,m),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+m+'".'),m&&(t=(0,g.stripBasename)(t,m)),(0,w.createLocation)(t)},y=(0,i.default)(),x=function(t){n(U,t),U.length=e.length,y.notifyListeners(U.location,U.action)},O=!1,A=null,E=function(){var t=c(),e=v(t);if(t!==e)l(e);else{var n=b(),o=U.location;if(!O&&(0,w.locationsAreEqual)(o,n))return;if(A===(0,g.createPath)(n))return;A=null,M(n)}},M=function(t){O?(O=!1,x()):y.confirmTransitionTo(t,"POP",h,function(e){e?x({action:"POP",location:t}):k(t)})},k=function(t){var e=U.location,n=j.lastIndexOf((0,g.createPath)(e));-1===n&&(n=0);var o=j.lastIndexOf((0,g.createPath)(t));-1===o&&(o=0);var r=n-o;r&&(O=!0,N(r))},L=c(),C=v(L);L!==C&&l(C);var S=b(),j=[(0,g.createPath)(S)],N=function(t){(0,o.default)(a,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},H=0,R=function(t){1===(H+=t)?(0,P.addEventListener)(window,"hashchange",E):0===H&&(0,P.removeEventListener)(window,"hashchange",E)},T=!1,U={length:e.length,action:"POP",location:S,createHref:function(t){return"#"+v(m+(0,g.createPath)(t))},push:function(t,e){(0,o.default)(void 0===e,"Hash history cannot push state; it is ignored");var n=(0,w.createLocation)(t,void 0,void 0,U.location);y.confirmTransitionTo(n,"PUSH",h,function(t){if(t){var e=(0,g.createPath)(n),r=v(m+e);if(c()!==r){A=e,function(t){window.location.hash=t}(r);var i=j.lastIndexOf((0,g.createPath)(U.location)),a=j.slice(0,-1===i?0:i+1);a.push(e),j=a,x({action:"PUSH",location:n})}else(0,o.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),x()}})},replace:function(t,e){(0,o.default)(void 0===e,"Hash history cannot replace state; it is ignored");var n=(0,w.createLocation)(t,void 0,void 0,U.location);y.confirmTransitionTo(n,"REPLACE",h,function(t){if(t){var e=(0,g.createPath)(n),o=v(m+e);c()!==o&&(A=e,l(o));var r=j.indexOf((0,g.createPath)(U.location));-1!==r&&(j[r]=e),x({action:"REPLACE",location:n})}})},go:N,goBack:function(){return N(-1)},goForward:function(){return N(1)},block:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=y.setPrompt(t);return T||(R(1),T=!0),function(){return T&&(T=!1,R(-1)),e()}},listen:function(t){var e=y.appendListener(t);return R(1),function(){R(-1),e()}}};return U}}))(),A="router-link-active",E={navigate:function(t,e){t&&t.preventDefault&&t.preventDefault(),e&&O.location.pathname!==e&&(this.get("replace")?O.replace(e):O.push(e))},setActivedClass:function(t){var e=t.pathname===this.get("to");this.set({active:e})}};function M(){this.get("event")()}function k(t){!function(t,e){t._observers={pre:n(),post:n()},t._handlers=n(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}(this,t),this._state=e({replace:!1,to:"/",basePath:"#",active:!1,class:"",activeClass:A,event:null},t.data),this._handlers.destroy=[M],this._slotted=t.slots||{};var o=function(){this.setActivedClass(O.location),this.set({event:O.listen(this.setActivedClass.bind(this))})}.bind(this);t.root||(this._oncreate=[]),this.slots={},this._fragment=function(t,e){var n,o,r,i=t._slotted.default;function a(e){var n=t.get();t.navigate(e,n.to)}return{c:function(){n=document.createElement("a"),this.h()},h:function(){var t,i;n.href=o=""+e.basePath+e.to,n.className=r=e.class+" "+(e.active?e.activeClass:""),t="click",i=a,n.addEventListener(t,i,!1)},m:function(t,e){!function(t,e,n){e.insertBefore(t,n)}(n,t,e),i&&function(t,e){e.appendChild(t)}(i,n)},p:function(t,e){(t.basePath||t.to)&&o!==(o=""+e.basePath+e.to)&&(n.href=o),(t.class||t.active||t.activeClass)&&r!==(r=e.class+" "+(e.active?e.activeClass:""))&&(n.className=r)},u:function(){var t;(t=n).parentNode.removeChild(t),i&&function(t,e){for(;t.firstChild;)e.appendChild(t.firstChild)}(n,i)},d:function(){var t,e;t="click",e=a,n.removeEventListener(t,e,!1)}}}(this,this._state),this.root._oncreate.push(o),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),i(this._oncreate))}e(k.prototype,E,a);var L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},C=function(t,e){return t.map(function(t){return null!==t.match(new RegExp(":"+e))?"("+e+")":t}).join("\\/")},S=function(t,e,n){var o={};return t.filter(function(t){return null!==t.match(new RegExp(":"+n))}).map(function(t){return t.match(new RegExp(":("+n+")"))[1]}).forEach(function(t,n){var r=n+1;o[t]=e[r]}),o},j=function(t,e,n,o){var r=t[e],i=r.Component,a=r.props;i||(i=t[e]);var s={data:{path:o}};return a=a||{},Object.prototype.hasOwnProperty.call(a,"data")&&(a.data.path=o,s={}),new i(L({target:n},a,s))},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0,o=void 0,r=void 0,i=e.pathRegex?e.pathRegex:"[a-zA-Z0-9]+",a=e.defaultRoute?e.defaultRoute:"default",s=function(e){var o=!1;for(var s in r&&r.destroy(),t)if(Object.prototype.hasOwnProperty.call(t,s)){var c=s.split("/"),u=C(c,i),h=e.pathname.match(new RegExp("^"+u+"$"));if(null!==h){var l=S(c,h,i);r=j(t,s,n,l),o=!0;break}}!o&&t[a]&&(r=j(t,a,n,{}))};return{create:function(t){n="string"==typeof t?document.querySelector(t):t,o=O.listen(s),s(O.location)},destroy:function(){o&&(o(),o=void 0)}}};return N.push=function(t){O.push(t)},N.replace=function(t){O.replace(t)},N.go=function(t){O.go(t)},N.listen=function(t){O.listen(t)},{createRouter:N,RouterLink:k}}()}(y={exports:{}},y.exports),y.exports),P=(w=x)&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w;function O(t){var e="",n="";return t.split(".").map(function(t){var o={sep:n,name:t,link:e=e+n+t};return n=".",o})}function A(e,i){var a,u,h,l,f=i.l,d=(i.l_index,f.sep),m=f.name;return{c:function(){a=c(d),u=s("a"),h=c(m),this.h()},h:function(){u.href=l="/#/shelf/"+f.link},m:function(t,e){o(a,t,e),o(u,t,e),n(h,u)},p:function(t,e){f=e.l,e.l_index,t.loc&&d!==(d=f.sep)&&(a.data=d),t.loc&&m!==(m=f.name)&&(h.data=m),t.loc&&l!==(l="/#/shelf/"+f.link)&&(u.href=l)},u:function(){r(a),r(u)},d:t}}function E(t,n){for(var a,s=O(n.loc),c=[],h=0;h<s.length;h+=1)c[h]=A(0,e({},n,{l:s[h],l_index:h}));return{c:function(){for(var t=0;t<c.length;t+=1)c[t].c();a=u()},m:function(t,e){for(var n=0;n<c.length;n+=1)c[n].m(t,e);o(a,t,e)},p:function(t,n){var o=O(n.loc);if(t.loc){for(var r=0;r<o.length;r+=1){var i=e({},n,{l:o[r],l_index:r});c[r]?c[r].p(t,i):(c[r]=A(0,i),c[r].c(),c[r].m(a.parentNode,a))}for(;r<c.length;r+=1)c[r].u(),c[r].d();c.length=o.length}},u:function(){for(var t=0;t<c.length;t+=1)c[t].u();r(a)},d:function(){i(c)}}}function M(e,n){var i;return{c:function(){i=c("N/A")},m:function(t,e){o(i,t,e)},p:t,u:function(){r(i)},d:t}}function k(t){_(this,t),this._state=e({},t.data),this._fragment=function(t,e){var n;function i(t){return t.loc?E:M}var a=i(e),c=a(t,e);return{c:function(){n=s("div"),c.c()},m:function(t,e){o(n,t,e),c.m(n,null)},p:function(e,o){a===(a=i(o))&&c?c.p(e,o):(c.u(),c.d(),(c=a(t,o)).c(),c.m(n,null))},u:function(){r(n),c.u()},d:function(){c.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null))}function L(t){f(t,"svelte-3775128793","")}function C(t,e){var n,i=e.res,a=(e.res_index,i.loc&&S(t,e));return{c:function(){a&&a.c(),n=u()},m:function(t,e){a&&a.m(t,e),o(n,t,e)},p:function(e,o){i=o.res,o.res_index,i.loc?a?a.p(e,o):((a=S(t,o)).c(),a.m(n.parentNode,n)):a&&(a.u(),a.d(),a=null)},u:function(){a&&a.u(),r(n)},d:function(){a&&a.d()}}}function S(t,e){var i,u,h,l,f,d=e.res,m=(e.res_index,d.tags),p=new k({root:t.root,slots:{default:a()},data:{loc:d.loc}});return{c:function(){i=s("tr"),u=s("td"),p._fragment.c(),h=c("\n            "),l=s("td"),f=c(m),this.h()},h:function(){L(u),L(l)},m:function(t,e){o(i,t,e),n(u,i),p._mount(u,null),n(h,i),n(l,i),n(f,l)},p:function(t,e){d=e.res,e.res_index;var n={};t.shelves&&(n.loc=d.loc),p._set(n),t.shelves&&m!==(m=d.tags)&&(f.data=m)},u:function(){r(i)},d:function(){p.destroy(!1)}}}function j(t,n){for(var a,s=n.shelves.results,c=[],h=0;h<s.length;h+=1)c[h]=C(t,e({},n,{res:s[h],res_index:h}));return{c:function(){for(var t=0;t<c.length;t+=1)c[t].c();a=u()},m:function(t,e){for(var n=0;n<c.length;n+=1)c[n].m(t,e);o(a,t,e)},p:function(n,o){var r=o.shelves.results;if(n.shelves){for(var i=0;i<r.length;i+=1){var s=e({},o,{res:r[i],res_index:i});c[i]?c[i].p(n,s):(c[i]=C(t,s),c[i].c(),c[i].m(a.parentNode,a))}for(;i<c.length;i+=1)c[i].u(),c[i].d();c.length=r.length}},u:function(){for(var t=0;t<c.length;t+=1)c[t].u();r(a)},d:function(){i(c)}}}function N(t){var i,a,u,h,l,m,p,v;_(this,t),this._state=e({},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(i=this,a=this._state,v=a.shelves.results&&j(i,a),{c:function(){u=s("div"),h=s("table"),(l=s("thead")).innerHTML="<tr><th svelte-3775128793>shelf</th><th svelte-3775128793>items</th></tr><tr></tr>",m=c("\n    "),p=s("tbody"),v&&v.c(),this.h()},h:function(){h.border="1",f(h,"cellspacing","0"),f(h,"cellpadding","3"),d(h,"max-width","250px")},m:function(t,e){o(u,t,e),n(h,u),n(l,h),n(m,h),n(p,h),v&&v.m(p,null)},p:function(t,e){e.shelves.results?v?v.p(t,e):((v=j(i,e)).c(),v.m(p,null)):v&&(v.u(),v.d(),v=null)},u:function(){r(u),v&&v.u()},d:function(){v&&v.d()}}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,g(this._beforecreate),g(this._oncreate),g(this._aftercreate),this._lock=!1)}function H(t){f(t,"svelte-2892906231","")}function R(t,e){var i,a,u,h,l,f,m,p,v,_,g,b,y,w,x,P,O,A,E,M,L,C,S,j,N,R=e.res,T=(e.res_index,R.last_at.ago||R.last_at.iso8601),U=R.item_id,I=e.Array.isArray(R.meta.callnumber)?R.meta.callnumber.join(" "):R.meta.callnumber,$=R.meta.author,B=R.meta.title,q=new k({root:t.root,data:{loc:R.tags[0].temporary.loc}});return{c:function(){i=s("tr"),a=s("td"),u=s("abbr"),h=c(T),f=c("\n            "),m=s("td"),q._fragment.c(),p=c("\n            "),v=s("td"),_=s("a"),g=c(U),y=c("\n            "),w=s("td"),x=c(I),P=c("\n            "),O=s("td"),A=s("abbr"),E=c($),L=c("\n            "),C=s("td"),S=s("abbr"),j=c(B),this.h()},h:function(){H(a),H(u),u.title=l=R.last_at.iso8601,H(m),H(v),H(_),_.href=b="/#/item/"+R.item_id,H(w),H(O),H(A),A.title=M=R.meta.author,d(O,"max-width","200px"),H(C),H(S),S.title=N=R.meta.title,d(C,"max-width","200px")},m:function(t,e){o(i,t,e),n(a,i),n(u,a),n(h,u),n(f,i),n(m,i),q._mount(m,null),n(p,i),n(v,i),n(_,v),n(g,_),n(y,i),n(w,i),n(x,w),n(P,i),n(O,i),n(A,O),n(E,A),n(L,i),n(C,i),n(S,C),n(j,S)},p:function(t,e){R=e.res,e.res_index,t.shelf&&T!==(T=R.last_at.ago||R.last_at.iso8601)&&(h.data=T),t.shelf&&l!==(l=R.last_at.iso8601)&&(u.title=l);var n={};t.shelf&&(n.loc=R.tags[0].temporary.loc),q._set(n),t.shelf&&U!==(U=R.item_id)&&(g.data=U),t.shelf&&b!==(b="/#/item/"+R.item_id)&&(_.href=b),(t.Array||t.shelf)&&I!==(I=e.Array.isArray(R.meta.callnumber)?R.meta.callnumber.join(" "):R.meta.callnumber)&&(x.data=I),t.shelf&&$!==($=R.meta.author)&&(E.data=$),t.shelf&&M!==(M=R.meta.author)&&(A.title=M),t.shelf&&B!==(B=R.meta.title)&&(j.data=B),t.shelf&&N!==(N=R.meta.title)&&(S.title=N)},u:function(){r(i)},d:function(){q.destroy(!1)}}}function T(t,n){for(var a,s=n.shelf.results,c=[],h=0;h<s.length;h+=1)c[h]=R(t,e({},n,{res:s[h],res_index:h}));return{c:function(){for(var t=0;t<c.length;t+=1)c[t].c();a=u()},m:function(t,e){for(var n=0;n<c.length;n+=1)c[n].m(t,e);o(a,t,e)},p:function(n,o){var r=o.shelf.results;if(n.shelf||n.Array){for(var i=0;i<r.length;i+=1){var s=e({},o,{res:r[i],res_index:i});c[i]?c[i].p(n,s):(c[i]=R(t,s),c[i].c(),c[i].m(a.parentNode,a))}for(;i<c.length;i+=1)c[i].u(),c[i].d();c.length=r.length}},u:function(){for(var t=0;t<c.length;t+=1)c[t].u();r(a)},d:function(){i(c)}}}function U(t){_(this,t),this._state=e({Array:Array},t.data);var i,a,u,h,l,d,m,p,v=function(){}.bind(this);t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(i=this,a=this._state,p=a.shelf.results&&T(i,a),{c:function(){u=s("div"),h=s("table"),(l=s("thead")).innerHTML='<tr><th svelte-2892906231>at</th><th svelte-2892906231>location</th><th svelte-2892906231>barcode</th><th svelte-2892906231>callnum</th><th svelte-2892906231 width="15%">author</th><th svelte-2892906231>title</th><th svelte-2892906231>last</th></tr>',d=c("\n    "),m=s("tbody"),p&&p.c(),this.h()},h:function(){h.border="1",f(h,"cellspacing","0"),f(h,"cellpadding","3")},m:function(t,e){o(u,t,e),n(h,u),n(l,h),n(d,h),n(m,h),p&&p.m(m,null)},p:function(t,e){e.shelf.results?p?p.p(t,e):((p=T(i,e)).c(),p.m(m,null)):p&&(p.u(),p.d(),p=null)},u:function(){r(u),p&&p.u()},d:function(){p&&p.d()}}),this.root._oncreate.push(v),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,g(this._beforecreate),g(this._oncreate),g(this._aftercreate),this._lock=!1)}function I(t){f(t,"svelte-422554819","")}function $(t,e){var n,i,a,u,h=e.path.shelfId,l=new U({root:t.root,data:{shelf:e.shelf,locationMap:e.locationMap}});return{c:function(){n=c("Shelf: "),i=c(h),a=c("\n    "),u=s("div"),l._fragment.c(),this.h()},h:function(){I(u),u.className="shelf-content"},m:function(t,e){o(n,t,e),o(i,t,e),o(a,t,e),o(u,t,e),l._mount(u,null)},p:function(t,e){t.path&&h!==(h=e.path.shelfId)&&(i.data=h);var n={};t.shelf&&(n.shelf=e.shelf),t.locationMap&&(n.locationMap=e.locationMap),l._set(n)},u:function(){r(n),r(i),r(a),r(u)},d:function(){l.destroy(!1)}}}function B(t){_(this,t),this._state=e({shelves:{},shelf:{},locationMap:null},t.data);var i,a,u,h,l,f,d,m=function(){const t="http://spore.deichman.no/api";fetch(`${t}/shelves`).then(t=>t.json()).then(t=>new Promise(e=>{let n=new Map;for(const e of t.results){let t=new Set,o=e.loc.split(".");for(let e=0;e<o.length;e++)t.add({link:`${o.slice(0,e+1).join(".")}`,name:o[e]});n.set(e.loc,t)}e(this.set({locationMap:n,shelves:t}))})).then(()=>{const e=this.get("path");return e.shelfId?Promise.resolve(fetch(`${t}/shelf/${e.shelfId}`)):Promise.reject("No shelf id")}).then(t=>t.json()).then(t=>this.set({shelf:t})).catch(t=>{throw console.log(`something broke: ${t}`),t})}.bind(this);t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(i=this,a=this._state,f=new N({root:i.root,data:{shelves:a.shelves,locationMap:a.locationMap}}),d=a.path.shelfId&&$(i,a),{c:function(){u=s("div"),h=s("div"),f._fragment.c(),l=c("\n  "),d&&d.c(),this.h()},h:function(){I(u),I(h),h.className="shelf-list",u.className="container"},m:function(t,e){o(u,t,e),n(h,u),f._mount(h,null),n(l,u),d&&d.m(u,null)},p:function(t,e){var n={};t.shelves&&(n.shelves=e.shelves),t.locationMap&&(n.locationMap=e.locationMap),f._set(n),e.path.shelfId?d?d.p(t,e):((d=$(i,e)).c(),d.m(u,null)):d&&(d.u(),d.d(),d=null)},u:function(){r(u),d&&d.u()},d:function(){f.destroy(!1),d&&d.d()}}),this.root._oncreate.push(m),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,g(this._beforecreate),g(this._oncreate),g(this._aftercreate),this._lock=!1)}function q(t){f(t,"svelte-3891022760","")}function D(e,i){var a,u,h,l,f,d,m,p,v,_,g,b,y,w,x,P,O,A,E,M,k,L,C,S,j,N,H,R,T,U,I,$,B,D,W=i.item.response.meta.title,z=i.item.response.meta.author,F=i.item.response.meta.callnumber,G=i.item.item_id,Z=i.item.response.meta.biblionumber;return{c:function(){a=s("tr"),u=s("td"),h=s("img"),f=c("\n      "),d=s("tr"),m=s("th"),p=c(W),v=c("\n      "),_=s("tr"),(g=s("td")).textContent="author",b=s("td"),y=c(z),w=c("\n      "),x=s("tr"),(P=s("td")).textContent="cn",O=s("td"),A=c(F),E=c("\n      "),M=s("tr"),(k=s("td")).textContent="barcode",L=s("td"),C=s("a"),S=c(G),N=c("\n      "),H=s("tr"),(R=s("td")).textContent="bibnum",T=s("td"),U=c(Z),I=c(" ["),($=s("a")).textContent="Koha",D=c("]"),this.h()},h:function(){q(a),q(u),h.src=l="https://img.deichman.no/biblionumber/"+i.item.response.meta.biblionumber,u.colSpan="2",q(d),q(m),m.colSpan="2",q(_),q(g),q(b),q(x),q(P),q(O),q(M),q(k),q(L),C.href=j="/#/item/"+i.item.item_id,q(H),q(R),q(T),$.href=B="https://intra.deichman.no/cgi-bin/koha/catalogue/detail.pl?biblionumber="+i.item.response.meta.biblionumber},m:function(t,e){o(a,t,e),n(u,a),n(h,u),n(f,a),o(d,t,e),n(m,d),n(p,m),o(v,t,e),o(_,t,e),n(g,_),n(b,_),n(y,b),o(w,t,e),o(x,t,e),n(P,x),n(O,x),n(A,O),o(E,t,e),o(M,t,e),n(k,M),n(L,M),n(C,L),n(S,C),o(N,t,e),o(H,t,e),n(R,H),n(T,H),n(U,T),n(I,T),n($,T),n(D,T)},p:function(t,e){t.item&&l!==(l="https://img.deichman.no/biblionumber/"+e.item.response.meta.biblionumber)&&(h.src=l),t.item&&W!==(W=e.item.response.meta.title)&&(p.data=W),t.item&&z!==(z=e.item.response.meta.author)&&(y.data=z),t.item&&F!==(F=e.item.response.meta.callnumber)&&(A.data=F),t.item&&G!==(G=e.item.item_id)&&(S.data=G),t.item&&j!==(j="/#/item/"+e.item.item_id)&&(C.href=j),t.item&&Z!==(Z=e.item.response.meta.biblionumber)&&(U.data=Z),t.item&&B!==(B="https://intra.deichman.no/cgi-bin/koha/catalogue/detail.pl?biblionumber="+e.item.response.meta.biblionumber)&&($.href=B)},u:function(){r(a),r(d),r(v),r(_),r(w),r(x),r(E),r(M),r(N),r(H)},d:t}}function W(t,e){var i,a,h,l,f,d,m,p,v,_=e.tag,g=(e.tag_index,_.rfid),b=_.permanent.at&&z(t,e),y=_.temporary.at&&F(t,e);return{c:function(){(i=s("tr")).innerHTML='<th svelte-3891022760 colspan="2">tag</th>',a=c("\n        "),h=s("tr"),(l=s("td")).textContent="rfid",f=s("td"),d=c(g),m=c("\n        "),b&&b.c(),p=c("\n        "),y&&y.c(),v=u(),this.h()},h:function(){q(i),q(h),q(l),q(f)},m:function(t,e){o(i,t,e),o(a,t,e),o(h,t,e),n(l,h),n(f,h),n(d,f),o(m,t,e),b&&b.m(t,e),o(p,t,e),y&&y.m(t,e),o(v,t,e)},p:function(e,n){_=n.tag,n.tag_index,e.item&&g!==(g=_.rfid)&&(d.data=g),_.permanent.at?b?b.p(e,n):((b=z(t,n)).c(),b.m(p.parentNode,p)):b&&(b.u(),b.d(),b=null),_.temporary.at?y?y.p(e,n):((y=F(t,n)).c(),y.m(v.parentNode,v)):y&&(y.u(),y.d(),y=null)},u:function(){r(i),r(a),r(h),r(m),b&&b.u(),r(p),y&&y.u(),r(v)},d:function(){b&&b.d(),y&&y.d()}}}function z(t,e){var i,a,u,h,l,f,d,m,p,v,_,g,b,y,w,x,P,O=e.tag,A=(e.tag_index,O.permanent.at.ago||O.permanent.at.iso8601),E=O.permanent.dev,M=new k({root:t.root,data:{loc:O.permanent.loc}});return{c:function(){i=s("tr"),(a=s("td")).textContent="perm",u=s("td"),M._fragment.c(),h=c("\n            "),l=s("tr"),(f=s("td")).textContent="at",d=s("td"),m=s("abbr"),p=c(A),_=c("\n            "),g=s("tr"),(b=s("td")).textContent="dev",y=s("td"),w=s("a"),x=c(E),this.h()},h:function(){q(i),q(a),q(u),q(l),q(f),q(d),m.title=v=O.permanent.at.iso8601,q(g),q(b),q(y),w.href=P="/#/dev/"+O.permanent.dev},m:function(t,e){o(i,t,e),n(a,i),n(u,i),M._mount(u,null),o(h,t,e),o(l,t,e),n(f,l),n(d,l),n(m,d),n(p,m),o(_,t,e),o(g,t,e),n(b,g),n(y,g),n(w,y),n(x,w)},p:function(t,e){O=e.tag,e.tag_index;var n={};t.item&&(n.loc=O.permanent.loc),M._set(n),t.item&&A!==(A=O.permanent.at.ago||O.permanent.at.iso8601)&&(p.data=A),t.item&&v!==(v=O.permanent.at.iso8601)&&(m.title=v),t.item&&E!==(E=O.permanent.dev)&&(x.data=E),t.item&&P!==(P="/#/dev/"+O.permanent.dev)&&(w.href=P)},u:function(){r(i),r(h),r(l),r(_),r(g)},d:function(){M.destroy(!1)}}}function F(t,e){var i,a,u,h,l,f,d,m,p,v,_,g,b,y,w,x,P,O=e.tag,A=(e.tag_index,O.temporary.at.ago||O.temporary.at.iso8601),E=O.temporary.dev,M=new k({root:t.root,data:{loc:O.temporary.loc}});return{c:function(){i=s("tr"),(a=s("td")).textContent="temp",u=s("td"),M._fragment.c(),h=c("\n            "),l=s("tr"),(f=s("td")).textContent="at",d=s("td"),m=s("abbr"),p=c(A),_=c("\n            "),g=s("tr"),(b=s("td")).textContent="dev",y=s("td"),w=s("a"),x=c(E),this.h()},h:function(){q(i),q(a),q(u),q(l),q(f),q(d),m.title=v=O.temporary.at.iso8601,q(g),q(b),q(y),w.href=P="/#/dev/"+O.temporary.dev},m:function(t,e){o(i,t,e),n(a,i),n(u,i),M._mount(u,null),o(h,t,e),o(l,t,e),n(f,l),n(d,l),n(m,d),n(p,m),o(_,t,e),o(g,t,e),n(b,g),n(y,g),n(w,y),n(x,w)},p:function(t,e){O=e.tag,e.tag_index;var n={};t.item&&(n.loc=O.temporary.loc),M._set(n),t.item&&A!==(A=O.temporary.at.ago||O.temporary.at.iso8601)&&(p.data=A),t.item&&v!==(v=O.temporary.at.iso8601)&&(m.title=v),t.item&&E!==(E=O.temporary.dev)&&(x.data=E),t.item&&P!==(P="/#/dev/"+O.temporary.dev)&&(w.href=P)},u:function(){r(i),r(h),r(l),r(_),r(g)},d:function(){M.destroy(!1)}}}function G(t,a){for(var u,h,l=a.item.response&&a.item.response.meta&&D(0,a),m=a.item.response.tags,p=[],v=0;v<m.length;v+=1)p[v]=W(t,e({},a,{tag:m[v],tag_index:v}));return{c:function(){u=s("table"),l&&l.c(),h=c("\n    \n      ");for(var t=0;t<p.length;t+=1)p[t].c();this.h()},h:function(){u.border="1",f(u,"cellspacing","0"),f(u,"cellpadding","3"),d(u,"max-width","250px")},m:function(t,e){o(u,t,e),l&&l.m(u,null),n(h,u);for(var r=0;r<p.length;r+=1)p[r].m(u,null)},p:function(n,o){o.item.response&&o.item.response.meta?l?l.p(n,o):((l=D(0,o)).c(),l.m(u,h)):l&&(l.u(),l.d(),l=null);var r=o.item.response.tags;if(n.item){for(var i=0;i<r.length;i+=1){var a=e({},o,{tag:r[i],tag_index:i});p[i]?p[i].p(n,a):(p[i]=W(t,a),p[i].c(),p[i].m(u,null))}for(;i<p.length;i+=1)p[i].u(),p[i].d();p.length=r.length}},u:function(){r(u),l&&l.u();for(var t=0;t<p.length;t+=1)p[t].u()},d:function(){l&&l.d(),i(p)}}}function Z(t){var n,i,a,c;_(this,t),this._state=e({},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(n=this,i=this._state,c=i.item&&G(n,i),{c:function(){a=s("div"),c&&c.c()},m:function(t,e){o(a,t,e),c&&c.m(a,null)},p:function(t,e){e.item?c?c.p(t,e):((c=G(n,e)).c(),c.m(a,null)):c&&(c.u(),c.d(),c=null)},u:function(){r(a),c&&c.u()},d:function(){c&&c.d()}}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,g(this._beforecreate),g(this._oncreate),g(this._aftercreate),this._lock=!1)}e(k.prototype,b),e(N.prototype,b),e(U.prototype,b),e(B.prototype,b),e(Z.prototype,b);var K={handleSubmit(t){t.preventDefault(),console.log(t)}};function V(t){f(t,"svelte-3408027156","")}function Y(t,e){var i,a,u,d,m,p,v=e.item.response.meta.title;function _(e){t.handleSubmit(e)}return{c:function(){i=s("h1"),a=c(v),u=c("\n      "),(d=s("form")).innerHTML='<label for="code">Barcode:</label>\n      <input id="code" name="code" class="ui-autocomplete-input" autocomplete="off">',m=c("\n      "),p=s("hr"),this.h()},h:function(){h(d,"submit",_),f(p,"size","1")},m:function(t,e){o(i,t,e),n(a,i),o(u,t,e),o(d,t,e),o(m,t,e),o(p,t,e)},p:function(t,e){t.item&&v!==(v=e.item.response.meta.title)&&(a.data=v)},u:function(){r(i),r(u),r(d),r(m),r(p)},d:function(){l(d,"submit",_)}}}function J(t,a){for(var u,h,l,f,d,m,p,v,_,g,b,y,w,x=a.it,P=(a.it_index,x.at.ago||x.at.iso8601),O=x.rfid||"N/A",A=new k({root:t.root,data:{loc:x.location}}),E=x.actions,M=[],L=0;L<E.length;L+=1)M[L]=Q(t,e({},a,{action:E[L],action_index:L}));return{c:function(){u=s("tr"),h=s("td"),l=s("abbr"),f=c(P),m=c("\n            "),p=s("td"),A._fragment.c(),v=c("\n            "),_=s("td");for(var t=0;t<M.length;t+=1)M[t].c();g=s("td"),b=s("abbr"),y=c(O),this.h()},h:function(){V(h),l.title=d=x.at.iso8601,V(p),V(_),V(g),b.title=w=x.dev||"N/A"},m:function(t,e){o(u,t,e),n(h,u),n(l,h),n(f,l),n(m,u),n(p,u),A._mount(p,null),n(v,u),n(_,u);for(var r=0;r<M.length;r+=1)M[r].m(_,null);n(g,u),n(b,g),n(y,b)},p:function(n,o){x=o.it,o.it_index,n.item&&P!==(P=x.at.ago||x.at.iso8601)&&(f.data=P),n.item&&d!==(d=x.at.iso8601)&&(l.title=d);var r={};n.item&&(r.loc=x.location),A._set(r);var i=x.actions;if(n.item){for(var a=0;a<i.length;a+=1){var s=e({},o,{action:i[a],action_index:a});M[a]?M[a].p(n,s):(M[a]=Q(t,s),M[a].c(),M[a].m(_,null))}for(;a<M.length;a+=1)M[a].u(),M[a].d();M.length=i.length}n.item&&O!==(O=x.rfid||"N/A")&&(y.data=O),n.item&&w!==(w=x.dev||"N/A")&&(b.title=w)},u:function(){r(u);for(var t=0;t<M.length;t+=1)M[t].u()},d:function(){A.destroy(!1),i(M)}}}function Q(e,i){i.it;var a,u,h=i.action,l=(i.it_index,i.action_index,h);return{c:function(){a=s("div"),u=c(l)},m:function(t,e){o(a,t,e),n(u,a)},p:function(t,e){e.it,h=e.action,e.it_index,e.action_index,t.item&&l!==(l=h)&&(u.data=l)},u:function(){r(a)},d:t}}function X(t,a){for(var u,h,l,m,p,v=a.item.response.meta&&Y(t,a),_=a.item.response.history,g=[],b=0;b<_.length;b+=1)g[b]=J(t,e({},a,{it:_[b],it_index:b}));return{c:function(){v&&v.c(),u=c("\n    "),h=s("table"),(l=s("thead")).innerHTML="<tr><th svelte-3408027156>at</th><th svelte-3408027156>shelf</th><th svelte-3408027156>type</th><th svelte-3408027156>rfid</th></tr>",m=c("\n      "),p=s("tbody");for(var t=0;t<g.length;t+=1)g[t].c();this.h()},h:function(){h.border="1",f(h,"cellspacing","0"),f(h,"cellpadding","3"),d(h,"max-width","250px")},m:function(t,e){v&&v.m(t,e),o(u,t,e),o(h,t,e),n(l,h),n(m,h),n(p,h);for(var r=0;r<g.length;r+=1)g[r].m(p,null)},p:function(n,o){o.item.response.meta?v?v.p(n,o):((v=Y(t,o)).c(),v.m(u.parentNode,u)):v&&(v.u(),v.d(),v=null);var r=o.item.response.history;if(n.item){for(var i=0;i<r.length;i+=1){var a=e({},o,{it:r[i],it_index:i});g[i]?g[i].p(n,a):(g[i]=J(t,a),g[i].c(),g[i].m(p,null))}for(;i<g.length;i+=1)g[i].u(),g[i].d();g.length=r.length}},u:function(){v&&v.u(),r(u),r(h);for(var t=0;t<g.length;t+=1)g[t].u()},d:function(){v&&v.d(),i(g)}}}function tt(t){var n,i,a,c;_(this,t),this._state=e({},t.data),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(n=this,i=this._state,c=i.item&&i.item.response&&X(n,i),{c:function(){a=s("div"),c&&c.c()},m:function(t,e){o(a,t,e),c&&c.m(a,null)},p:function(t,e){e.item&&e.item.response?c?c.p(t,e):((c=X(n,e)).c(),c.m(a,null)):c&&(c.u(),c.d(),c=null)},u:function(){r(a),c&&c.u()},d:function(){c&&c.d()}}),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,g(this._beforecreate),g(this._oncreate),g(this._aftercreate),this._lock=!1)}e(tt.prototype,K,b);const{createRouter:et}=P;var nt={goHome(){et.replace("/")}};function ot(t){f(t,"svelte-993550016","")}function rt(t){_(this,t),this._state=e({item:null,locationMap:null},t.data);var i,a,u,h,l,f,d,m,p=function(){const t="http://spore.deichman.no/api";fetch(`${t}/shelves`).then(t=>t.json()).then(t=>new Promise(e=>{let n=new Map;for(const e of t.results){let t=new Set,o=e.loc.split(".");for(let e=0;e<o.length;e++)t.add({link:`${o.slice(0,e+1).join(".")}`,name:o[e]});n.set(e.loc,t)}e(this.set({locationMap:n}))})).then(()=>{const e=this.get("path");return e.barcode?Promise.resolve(fetch(`${t}/item/NO:02030000/${e.barcode}`)):Promise.reject("No shelf id")}).then(t=>t.json()).then(t=>(console.log(t),this.set({item:t}))).catch(t=>{throw console.log(`something broke: ${t}`),t})}.bind(this);t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(i=this,a=this._state,d=new Z({root:i.root,data:{item:a.item,locationMap:a.locationMap}}),m=new tt({root:i.root,data:{barcode:a.path.barcode,item:a.item,locationMap:a.locationMap}}),{c:function(){u=s("div"),h=s("div"),d._fragment.c(),l=c("\n  "),f=s("div"),m._fragment.c(),this.h()},h:function(){ot(u),ot(h),h.className="item-info",ot(f),f.className="history",u.className="container"},m:function(t,e){o(u,t,e),n(h,u),d._mount(h,null),n(l,u),n(f,u),m._mount(f,null)},p:function(t,e){var n={};t.item&&(n.item=e.item),t.locationMap&&(n.locationMap=e.locationMap),d._set(n);var o={};t.path&&(o.barcode=e.path.barcode),t.item&&(o.item=e.item),t.locationMap&&(o.locationMap=e.locationMap),m._set(o)},u:function(){r(u)},d:function(){d.destroy(!1),m.destroy(!1)}}),this.root._oncreate.push(p),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),this._lock=!0,g(this._beforecreate),g(this._oncreate),g(this._aftercreate),this._lock=!1)}e(rt.prototype,nt,b);const{createRouter:it}=P;var at={goHome(){it.replace("/")}};function st(n){_(this,n),this._state=e({},n.data),this._fragment=function(e,n){var i,a,u;function f(t){e.goHome()}return{c:function(){(i=s("h1")).textContent="404 Not Found",a=c("\n"),(u=s("button")).textContent="Go Home",this.h()},h:function(){h(u,"click",f)},m:function(t,e){o(i,t,e),o(a,t,e),o(u,t,e)},p:t,u:function(){r(i),r(a),r(u)},d:function(){l(u,"click",f)}}}(this,this._state),n.target&&(this._fragment.c(),this._fragment.m(n.target,n.anchor||null))}e(st.prototype,at,b);const{createRouter:ct,RouterLink:ut}=P,ht=ct({"/":B,"/shelf":B,"/shelf/:shelfId":B,"/item/:barcode":{Component:rt,props:{data:{salutation:"Hello"}}}},{pathRegex:"[a-zA-Z0-9.]+",defaultRoute:st});function lt(){ht.destroy()}function ft(i){_(this,i),this._state=e({},i.data),this._handlers.destroy=[lt];var u,h,l,f,d,m,p=function(){ht.create("#app")}.bind(this);i.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=(u=this,this._state,m=new ut({root:u.root,slots:{default:a()},data:{to:"/shelf"}}),{c:function(){h=s("div"),l=c("Shelf"),m._fragment.c(),f=c("\n  "),d=s("div"),this.h()},h:function(){d.id="app"},m:function(t,e){o(h,t,e),n(l,m._slotted.default),m._mount(h,null),n(f,h),n(d,h)},p:t,u:function(){r(h)},d:function(){m.destroy(!1)}}),this.root._oncreate.push(p),i.target&&(this._fragment.c(),this._fragment.m(i.target,i.anchor||null),this._lock=!0,g(this._beforecreate),g(this._oncreate),g(this._aftercreate),this._lock=!1)}return ct.listen(()=>{console.log("router changed")}),e(ft.prototype,b),new ft({target:document.body,data:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
